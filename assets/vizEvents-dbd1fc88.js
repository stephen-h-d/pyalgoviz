(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const sharedConfig={};function setHydrateContext(e){sharedConfig.context=e}const equalFn=(e,t)=>e===t,$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null},NO_INIT={};var Owner=null;let Transition$1=null,Listener=null,Updates=null,Effects=null,ExecCount=0;function createRoot(e,t){const n=Listener,r=Owner,i=e.length===0,o=i?UNOWNED:{owned:null,cleanups:null,context:null,owner:t||r},s=i?e:()=>e(()=>untrack(()=>cleanNode(o)));Owner=o,Listener=null;try{return runUpdates(s,!0)}finally{Listener=n,Owner=r}}function createSignal(e,t){t=t?Object.assign({},signalOptions,t):signalOptions;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),writeSignal(n,i));return[readSignal.bind(n),r]}function createComputed(e,t,n){const r=createComputation(e,t,!0,STALE);updateComputation(r)}function createRenderEffect(e,t,n){const r=createComputation(e,t,!1,STALE);updateComputation(r)}function createEffect(e,t,n){runEffects=runUserEffects;const r=createComputation(e,t,!1,STALE);r.user=!0,Effects?Effects.push(r):updateComputation(r)}function createMemo(e,t,n){n=n?Object.assign({},signalOptions,n):signalOptions;const r=createComputation(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,updateComputation(r),readSignal.bind(r)}function createResource(e,t,n){let r,i,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,o=t||{}):(r=e,i=t,o=n||{});let s=null,a=NO_INIT,u=null,c=!1,l="initialValue"in o,h=typeof r=="function"&&createMemo(r);const f=new Set,[d,v]=(o.storage||createSignal)(o.initialValue),[p,N]=createSignal(void 0),[_,m]=createSignal(void 0,{equals:!1}),[g,b]=createSignal(l?"ready":"unresolved");if(sharedConfig.context){u=`${sharedConfig.context.id}${sharedConfig.context.count++}`;let x;o.ssrLoadFrom==="initial"?a=o.initialValue:sharedConfig.load&&(x=sharedConfig.load(u))&&(a=x[0])}function E(x,$,w,k){return s===x&&(s=null,l=!0,(x===a||$===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(k,{value:$})),a=NO_INIT,I($,w)),$}function I(x,$){runUpdates(()=>{$||v(()=>x),b($?"errored":"ready"),N($);for(const w of f.keys())w.decrement();f.clear()},!1)}function O(){const x=SuspenseContext,$=d(),w=p();if(w&&!s)throw w;return Listener&&!Listener.user&&x&&createComputed(()=>{_(),s&&(x.resolved||f.has(x)||(x.increment(),f.add(x)))}),$}function P(x=!0){if(x!==!1&&c)return;c=!1;const $=h?h():r;if($==null||$===!1){E(s,untrack(d));return}const w=a!==NO_INIT?a:untrack(()=>i($,{value:d(),refetching:x}));return typeof w!="object"||!(w&&"then"in w)?(E(s,w,void 0,$),w):(s=w,c=!0,queueMicrotask(()=>c=!1),runUpdates(()=>{b(l?"refreshing":"pending"),m()},!1),w.then(k=>E(w,k,void 0,$),k=>E(w,void 0,castError(k),$)))}return Object.defineProperties(O,{state:{get:()=>g()},error:{get:()=>p()},loading:{get(){const x=g();return x==="pending"||x==="refreshing"}},latest:{get(){if(!l)return O();const x=p();if(x&&!s)throw x;return d()}}}),h?createComputed(()=>P(!1)):P(!1),[O,{refetch:P,mutate:v}]}function untrack(e){const t=Listener;Listener=null;try{return e()}finally{Listener=t}}function onCleanup(e){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[e]:Owner.cleanups.push(e)),e}function getOwner(){return Owner}let SuspenseContext;function readSignal(){const e=Transition$1;if(this.sources&&(this.state||e))if(this.state===STALE||e)updateComputation(this);else{const t=Updates;Updates=null,runUpdates(()=>lookUpstream(this),!1),Updates=t}if(Listener){const t=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(t)):(Listener.sources=[this],Listener.sourceSlots=[t]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&runUpdates(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=Transition$1&&Transition$1.running;s&&Transition$1.disposed.has(o),(s&&!o.tState||!s&&!o.state)&&(o.pure?Updates.push(o):Effects.push(o),o.observers&&markDownstream(o)),s||(o.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1)),t}function updateComputation(e){if(!e.fn)return;cleanNode(e);const t=Owner,n=Listener,r=ExecCount;Listener=Owner=e,runComputation(e,e.value,r),Listener=n,Owner=t}function runComputation(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=STALE,e.owned&&e.owned.forEach(cleanNode),e.owned=null),handleError(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?writeSignal(e,r):e.value=r,e.updatedAt=n)}function createComputation(e,t,n,r=STALE,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Owner,context:null,pure:n};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(o):Owner.owned=[o]),o}function runTop(e){const t=Transition$1;if(e.state===0||t)return;if(e.state===PENDING||t)return lookUpstream(e);if(e.suspense&&untrack(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ExecCount);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===STALE||t)updateComputation(e);else if(e.state===PENDING||t){const i=Updates;Updates=null,runUpdates(()=>lookUpstream(e,n[0]),!1),Updates=i}}function runUpdates(e,t){if(Updates)return e();let n=!1;t||(Updates=[]),Effects?n=!0:Effects=[],ExecCount++;try{const r=e();return completeUpdates(n),r}catch(r){Updates||(Effects=null),Updates=null,handleError(r)}}function completeUpdates(e){if(Updates&&(runQueue(Updates),Updates=null),e)return;const t=Effects;Effects=null,t.length&&runUpdates(()=>runEffects(t),!1)}function runQueue(e){for(let t=0;t<e.length;t++)runTop(e[t])}function runUserEffects(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:runTop(r)}for(sharedConfig.context&&setHydrateContext(),t=0;t<n;t++)runTop(e[t])}function lookUpstream(e,t){const n=Transition$1;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===STALE||n?i!==t&&runTop(i):(i.state===PENDING||n)&&lookUpstream(i,t))}}function markDownstream(e){const t=Transition$1;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=PENDING,r.pure?Updates.push(r):Effects.push(r),r.observers&&markDownstream(r))}}function cleanNode(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)cleanNode(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function castError(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function handleError(e){throw e=castError(e),e}function observable$1(e){return{subscribe(t){if(!(t instanceof Object)||t==null)throw new TypeError("Expected the observer to be an object.");const n=typeof t=="function"?t:t.next&&t.next.bind(t);if(!n)return{unsubscribe(){}};const r=createRoot(i=>(createEffect(()=>{const o=e();untrack(()=>n(o))}),i));return getOwner()&&onCleanup(r),{unsubscribe(){r()}}},[Symbol.observable||"@@observable"](){return this}}}function from$1(e){const[t,n]=createSignal(void 0,{equals:!1});if("subscribe"in e){const r=e.subscribe(i=>n(()=>i));onCleanup(()=>"unsubscribe"in r?r.unsubscribe():r())}else{const r=e(n);onCleanup(r)}return t}const FALLBACK=Symbol("fallback");function dispose(e){for(let t=0;t<e.length;t++)e[t]()}function mapArray(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return onCleanup(()=>dispose(o)),()=>{let u=e()||[],c,l;return u[$TRACK],untrack(()=>{let f=u.length,d,v,p,N,_,m,g,b,E;if(f===0)s!==0&&(dispose(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[FALLBACK],i[0]=createRoot(I=>(o[0]=I,n.fallback())),s=1);else if(s===0){for(i=new Array(f),l=0;l<f;l++)r[l]=u[l],i[l]=createRoot(h);s=f}else{for(p=new Array(f),N=new Array(f),a&&(_=new Array(f)),m=0,g=Math.min(s,f);m<g&&r[m]===u[m];m++);for(g=s-1,b=f-1;g>=m&&b>=m&&r[g]===u[b];g--,b--)p[b]=i[g],N[b]=o[g],a&&(_[b]=a[g]);for(d=new Map,v=new Array(b+1),l=b;l>=m;l--)E=u[l],c=d.get(E),v[l]=c===void 0?-1:c,d.set(E,l);for(c=m;c<=g;c++)E=r[c],l=d.get(E),l!==void 0&&l!==-1?(p[l]=i[c],N[l]=o[c],a&&(_[l]=a[c]),l=v[l],d.set(E,l)):o[c]();for(l=m;l<f;l++)l in p?(i[l]=p[l],o[l]=N[l],a&&(a[l]=_[l],a[l](l))):i[l]=createRoot(h);i=i.slice(0,s=f),r=u.slice(0)}return i});function h(f){if(o[l]=f,a){const[d,v]=createSignal(l);return a[l]=v,t(u[l],d)}return t(u[l])}}}function createComponent(e,t){return untrack(()=>e(t||{}))}function For(e){const t="fallback"in e&&{fallback:()=>e.fallback};return createMemo(mapArray(()=>e.each,e.children,t||void 0))}function reconcileArrays(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,u=t[i-1].nextSibling,c=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const l=o<r?a?n[a-1].nextSibling:n[o-a]:u;for(;a<o;)e.insertBefore(n[a++],l)}else if(o===a)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const l=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],l),t[i]=n[o]}else{if(!c){c=new Map;let h=a;for(;h<o;)c.set(n[h],h++)}const l=c.get(t[s]);if(l!=null)if(a<l&&l<o){let h=s,f=1,d;for(;++h<i&&h<o&&!((d=c.get(t[h]))==null||d!==l+f);)f++;if(f>l-a){const v=t[s];for(;a<l;)e.insertBefore(n[a++],v)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(e,t,n,r={}){let i;return createRoot(o=>{i=o,t===document?e():insert(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function template(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function delegateEvents(e,t=window.document){const n=t[$$EVENTS]||(t[$$EVENTS]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,eventHandler))}}function setAttribute(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function className(e,t){t==null?e.removeAttribute("class"):e.className=t}function addEventListener(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function classList$1(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(toggleClassKey(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],u=!!t[a];!a||a==="undefined"||n[a]===u||!u||(toggleClassKey(e,a,!0),n[a]=u)}return n}function style(e,t,n){if(!t)return n?setAttribute(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function use(e,t,n){return untrack(()=>e(t,n))}function insert(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return insertExpression(e,t,r,n);createRenderEffect(i=>insertExpression(e,t(),i,n),r)}function toggleClassKey(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function eventHandler(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),sharedConfig.registry&&!sharedConfig.done&&(sharedConfig.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+e;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function insertExpression(e,t,n,r,i){for(sharedConfig.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(sharedConfig.context)return n;if(o==="number"&&(t=t.toString()),s){let a=n[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),n=cleanChildren(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(sharedConfig.context)return n;n=cleanChildren(e,n,r)}else{if(o==="function")return createRenderEffect(()=>{let a=t();for(;typeof a=="function";)a=a();n=insertExpression(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],u=n&&Array.isArray(n);if(normalizeIncomingArray(a,t,n,i))return createRenderEffect(()=>n=insertExpression(e,a,n,r,!0)),()=>n;if(sharedConfig.context){if(!a.length)return n;for(let c=0;c<a.length;c++)if(a[c].parentNode)return n=a}if(a.length===0){if(n=cleanChildren(e,n,r),s)return n}else u?n.length===0?appendNodes(e,a,r):reconcileArrays(e,n,a):(n&&cleanChildren(e),appendNodes(e,a));n=a}else if(t instanceof Node){if(sharedConfig.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=cleanChildren(e,n,r,t);cleanChildren(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function normalizeIncomingArray(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],u=n&&n[o];if(a instanceof Node)e.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))i=normalizeIncomingArray(e,a,u)||i;else if(typeof a=="function")if(r){for(;typeof a=="function";)a=a();i=normalizeIncomingArray(e,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||i}else e.push(a),i=!0;else{const c=String(a);u&&u.nodeType===3&&u.data===c?e.push(u):e.push(document.createTextNode(c))}}return i}function appendNodes(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function cleanChildren(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const u=a.parentNode===e;!o&&!s?u?e.replaceChild(i,a):e.insertBefore(i,n):u&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},extendStatics(e,t)};function __extends(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function __awaiter(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(h){s(h)}}function u(l){try{c(r.throw(l))}catch(h){s(h)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}function __generator(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function __values(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function __spreadArray(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(d){return new Promise(function(v,p){o.push([f,d,v,p])>1||a(f,d)})})}function a(f,d){try{u(r[f](d))}catch(v){h(o[0][3],v)}}function u(f){f.value instanceof __await?Promise.resolve(f.value.v).then(c,l):h(o[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,d){f(d),o.shift(),o.length&&a(o[0][0],o[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,u){s=e[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction(e){return typeof e=="function"}function createErrorClass(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var UnsubscriptionError=createErrorClass(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function arrRemove(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Subscription=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=__values(s),u=a.next();!u.done;u=a.next()){var c=u.value;c.remove(this)}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var l=this.initialTeardown;if(isFunction(l))try{l()}catch(p){o=p instanceof UnsubscriptionError?p.errors:[p]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=__values(h),d=f.next();!d.done;d=f.next()){var v=d.value;try{execFinalizer(v)}catch(p){o=o??[],p instanceof UnsubscriptionError?o=__spreadArray(__spreadArray([],__read(o)),__read(p.errors)):o.push(p)}}}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new UnsubscriptionError(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)execFinalizer(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&arrRemove(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(e){return e instanceof Subscription||e&&"closed"in e&&isFunction(e.remove)&&isFunction(e.add)&&isFunction(e.unsubscribe)}function execFinalizer(e){isFunction(e)?e():e.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=timeoutProvider.delegate;return i?.setTimeout?i.setTimeout.apply(i,__spreadArray([e,t],__read(n))):setTimeout.apply(void 0,__spreadArray([e,t],__read(n)))},clearTimeout:function(e){var t=timeoutProvider.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function reportUnhandledError(e){timeoutProvider.setTimeout(function(){throw e})}function noop$1(){}function errorContext(e){e()}var Subscriber=function(e){__extends(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,isSubscription(n)&&n.add(r)):r.destination=EMPTY_OBSERVER,r}return t.create=function(n,r,i){return new SafeSubscriber(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Subscription),_bind=Function.prototype.bind;function bind(e,t){return _bind.call(e,t)}var ConsumerObserver=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){handleUnhandledError(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){handleUnhandledError(r)}else handleUnhandledError(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){handleUnhandledError(n)}},e}(),SafeSubscriber=function(e){__extends(t,e);function t(n,r,i){var o=e.call(this)||this,s;if(isFunction(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&config.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&bind(n.next,a),error:n.error&&bind(n.error,a),complete:n.complete&&bind(n.complete,a)}):s=n}return o.destination=new ConsumerObserver(s),o}return t}(Subscriber);function handleUnhandledError(e){reportUnhandledError(e)}function defaultErrorHandler(e){throw e}var EMPTY_OBSERVER={closed:!0,next:noop$1,error:defaultErrorHandler,complete:noop$1},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(e){return e}function pipeFromArray(e){return e.length===0?identity$1:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Observable=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=isSubscriber(t)?t:new SafeSubscriber(t,n,r);return errorContext(function(){var s=i,a=s.operator,u=s.source;o.add(a?a.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=getPromiseCtor(n),new n(function(i,o){var s=new SafeSubscriber({next:function(a){try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=getPromiseCtor(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function getPromiseCtor(e){var t;return(t=e??config.Promise)!==null&&t!==void 0?t:Promise}function isObserver(e){return e&&isFunction(e.next)&&isFunction(e.error)&&isFunction(e.complete)}function isSubscriber(e){return e&&e instanceof Subscriber||isObserver(e)&&isSubscription(e)}function hasLift(e){return isFunction(e?.lift)}function operate(e){return function(t){if(hasLift(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(e,t,n,r,i){return new OperatorSubscriber(e,t,n,r,i)}var OperatorSubscriber=function(e){__extends(t,e);function t(n,r,i,o,s,a){var u=e.call(this,n)||this;return u.onFinalize=s,u.shouldUnsubscribe=a,u._next=r?function(c){try{r(c)}catch(l){n.error(l)}}:e.prototype._next,u._error=o?function(c){try{o(c)}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(e){__extends(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new AnonymousSubject(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},t.prototype.next=function(n){var r=this;errorContext(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=__values(r.currentObservers),a=s.next();!a.done;a=s.next()){var u=a.value;u.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?EMPTY_SUBSCRIPTION:(this.currentObservers=null,a.push(n),new Subscription(function(){r.currentObservers=null,arrRemove(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},t.prototype.asObservable=function(){var n=new Observable;return n.source=this,n},t.create=function(n,r){return new AnonymousSubject(n,r)},t}(Observable),AnonymousSubject=function(e){__extends(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:EMPTY_SUBSCRIPTION},t}(Subject),BehaviorSubject=function(e){__extends(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},Action=function(e){__extends(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Subscription),intervalProvider={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=intervalProvider.delegate;return i?.setInterval?i.setInterval.apply(i,__spreadArray([e,t],__read(n))):setInterval.apply(void 0,__spreadArray([e,t],__read(n)))},clearInterval:function(e){var t=intervalProvider.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},AsyncAction=function(e){__extends(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),intervalProvider.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&intervalProvider.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Action),Scheduler=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=dateTimestampProvider.now,e}(),AsyncScheduler=function(e){__extends(t,e);function t(n,r){r===void 0&&(r=Scheduler.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,EMPTY=new Observable(function(e){return e.complete()});function isScheduler(e){return e&&isFunction(e.schedule)}var isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function isPromise(e){return isFunction(e?.then)}function isInteropObservable(e){return isFunction(e[observable])}function isAsyncIterable(e){return Symbol.asyncIterator&&isFunction(e?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(e){return isFunction(e?.[iterator])}function readableStreamLikeToAsyncGenerator(e){return __asyncGenerator(this,arguments,function(){var n,r,i,o;return __generator(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,__await(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,__await(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,__await(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(e){return isFunction(e?.getReader)}function innerFrom(e){if(e instanceof Observable)return e;if(e!=null){if(isInteropObservable(e))return fromInteropObservable(e);if(isArrayLike(e))return fromArrayLike(e);if(isPromise(e))return fromPromise(e);if(isAsyncIterable(e))return fromAsyncIterable(e);if(isIterable(e))return fromIterable(e);if(isReadableStreamLike(e))return fromReadableStreamLike(e)}throw createInvalidObservableTypeError(e)}function fromInteropObservable(e){return new Observable(function(t){var n=e[observable]();if(isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(e){return new Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function fromPromise(e){return new Observable(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,reportUnhandledError)})}function fromIterable(e){return new Observable(function(t){var n,r;try{for(var i=__values(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function fromAsyncIterable(e){return new Observable(function(t){process(e,t).catch(function(n){return t.error(n)})})}function fromReadableStreamLike(e){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(e))}function process(e,t){var n,r,i,o;return __awaiter(this,void 0,void 0,function(){var s,a;return __generator(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=__asyncValues(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function executeSchedule(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function observeOn(e,t){return t===void 0&&(t=0),operate(function(n,r){n.subscribe(createOperatorSubscriber(r,function(i){return executeSchedule(r,e,function(){return r.next(i)},t)},function(){return executeSchedule(r,e,function(){return r.complete()},t)},function(i){return executeSchedule(r,e,function(){return r.error(i)},t)}))})}function subscribeOn(e,t){return t===void 0&&(t=0),operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function scheduleObservable(e,t){return innerFrom(e).pipe(subscribeOn(t),observeOn(t))}function schedulePromise(e,t){return innerFrom(e).pipe(subscribeOn(t),observeOn(t))}function scheduleArray(e,t){return new Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function scheduleIterable(e,t){return new Observable(function(n){var r;return executeSchedule(n,t,function(){r=e[iterator](),executeSchedule(n,t,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return isFunction(r?.return)&&r.return()}})}function scheduleAsyncIterable(e,t){if(!e)throw new Error("Iterable cannot be null");return new Observable(function(n){executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();executeSchedule(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function scheduleReadableStreamLike(e,t){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(e),t)}function scheduled(e,t){if(e!=null){if(isInteropObservable(e))return scheduleObservable(e,t);if(isArrayLike(e))return scheduleArray(e,t);if(isPromise(e))return schedulePromise(e,t);if(isAsyncIterable(e))return scheduleAsyncIterable(e,t);if(isIterable(e))return scheduleIterable(e,t);if(isReadableStreamLike(e))return scheduleReadableStreamLike(e,t)}throw createInvalidObservableTypeError(e)}function from(e,t){return t?scheduled(e,t):innerFrom(e)}function isValidDate(e){return e instanceof Date&&!isNaN(e)}function timer$1(e,t,n){e===void 0&&(e=0),n===void 0&&(n=async);var r=-1;return t!=null&&(isScheduler(t)?n=t:r=t),new Observable(function(i){var o=isValidDate(e)?+e-n.now():e;o<0&&(o=0);var s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function filter$1(e,t){return operate(function(n,r){var i=0;n.subscribe(createOperatorSubscriber(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function debounceTime(e,t){return t===void 0&&(t=asyncScheduler),operate(function(n,r){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,r.next(c)}};function u(){var c=s+e,l=t.now();if(l<c){i=this.schedule(void 0,c-l),r.add(i);return}a()}n.subscribe(createOperatorSubscriber(r,function(c){o=c,s=t.now(),i||(i=t.schedule(u,e),r.add(i))},function(){a(),r.complete()},void 0,function(){o=i=null}))})}function take(e){return e<=0?function(){return EMPTY}:operate(function(t,n){var r=0;t.subscribe(createOperatorSubscriber(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function takeUntil(e){return operate(function(t,n){innerFrom(e).subscribe(createOperatorSubscriber(n,function(){return n.complete()},noop$1)),!n.closed&&t.subscribe(n)})}class EventNavSubjects{prev$=new Subject;playPause$=new Subject;next$=new Subject;speed$=new BehaviorSubject("Medium");sliderIndex$=new Subject}var noop={value:()=>{}};function dispatch(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dispatch(n)}function Dispatch(e){this._=e}function parseTypenames$1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n=this._,r=parseTypenames$1(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=get$1(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=set$1(n[i],e.name,t);else if(t==null)for(i in n)n[i]=set$1(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function get$1(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function set$1(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=noop,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,c,l=0;l<s;++l)(u=o[l])&&(c=e.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),a[l]=c);return new Selection$1(r,this._parents)}function array(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty(){return[]}function selectorAll(e){return e==null?empty:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(e.call(u,u.__data__,c,s)),i.push(u));return new Selection$1(r,i)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(t){return t.matches(e)}}var find=Array.prototype.find;function childFind(e){return function(){return find.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new Selection$1(r,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$2(e){return function(){return e}}function bindIndex(e,t,n,r,i,o){for(var s=0,a,u=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new EnterNode(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function bindKey(e,t,n,r,i,o,s){var a,u,c=new Map,l=t.length,h=o.length,f=new Array(l),d;for(a=0;a<l;++a)(u=t[a])&&(f[a]=d=s.call(u,u.__data__,a,t)+"",c.has(d)?i[a]=u:c.set(d,u));for(a=0;a<h;++a)d=s.call(e,o[a],a,o)+"",(u=c.get(d))?(r[a]=u,u.__data__=o[a],c.delete(d)):n[a]=new EnterNode(e,o[a]);for(a=0;a<l;++a)(u=t[a])&&c.get(f[a])===u&&(i[a]=u)}function datum(e){return e.__data__}function selection_data(e,t){if(!arguments.length)return Array.from(this,datum);var n=t?bindKey:bindIndex,r=this._parents,i=this._groups;typeof e!="function"&&(e=constant$2(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],f=h.length,d=arraylike(e.call(l,l&&l.__data__,c,r)),v=d.length,p=a[c]=new Array(v),N=s[c]=new Array(v),_=u[c]=new Array(f);n(l,h,p,N,_,d,t);for(var m=0,g=0,b,E;m<v;++m)if(b=p[m]){for(m>=g&&(g=m+1);!(E=N[g])&&++g<v;);b._next=E||null}}return s=new Selection$1(s,r),s._enter=a,s._exit=u,s}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function selection_merge(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=n[u],l=r[u],h=c.length,f=a[u]=new Array(h),d,v=0;v<h;++v)(d=c[v]||l[v])&&(f[v]=d);for(;u<i;++u)a[u]=n[u];return new Selection$1(a,this._parents)}function selection_order(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function selection_sort(e){e||(e=ascending);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),c,l=0;l<a;++l)(c=s[l])&&(u[l]=c);u.sort(t)}return new Selection$1(i,this._parents).order()}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function selection_size(){let e=0;for(const t of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS$1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction$1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS$1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function selection_attr(e,t){var n=namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?attrRemoveNS$1:attrRemove$1:typeof t=="function"?n.local?attrFunctionNS$1:attrFunction$1:n.local?attrConstantNS$1:attrConstant$1)(n,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove$1(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction$1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function selection_style(e,t,n){return arguments.length>1?this.each((t==null?styleRemove$1:typeof t=="function"?styleFunction$1:styleConstant$1)(e,t,n??"")):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function selection_property(e,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,t){for(var n=classList(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function classedRemove(e,t){for(var n=classList(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var n=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(n,t))}function textRemove(){this.textContent=""}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction$1:textConstant$1)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var n=typeof e=="function"?e:creator(e),r=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(t){e.call(this,t,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function onAdd(e,t,n){return function(){var r=this.__on,i,o=contextListener(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function selection_on(e,t,n){var r=parseTypenames(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,l;u<c;++u)for(i=0,l=a[u];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=t?onAdd:onRemove,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function dispatchEvent(e,t,n){var r=defaultView(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(e,t))}function*selection_iterator(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var root=[null];function Selection$1(e,t){this._groups=e,this._parents=t}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(e){return typeof e=="string"?new Selection$1([[document.querySelector(e)]],[document.documentElement]):new Selection$1([[e]],root)}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rgbn(t):n===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rgb(e,t,n,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,n,r){return arguments.length===1?rgbConvert(e):new Rgb(e,t,n,r??1)}function Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}define(Rgb,rgb,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Hsl(s,a,u,e.opacity)}function hsl(e,t,n,r){return arguments.length===1?hslConvert(e):new Hsl(e,t,n,r??1)}function Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}define(Hsl,hsl,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,i,r),hsl2rgb(e,i,r),hsl2rgb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const constant$1=e=>()=>e;function linear(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gamma(e){return(e=+e)==1?nogamma:function(t,n){return n-t?exponential(t,n,e):constant$1(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear(e,n):constant$1(isNaN(e)?t:e)}const interpolateRgb=function e(t){var n=gamma(t);function r(i,o){var s=n((i=rgb(i)).r,(o=rgb(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),c=nogamma(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=e,r}(1);function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function interpolateString(e,t){var n=reA.lastIndex=reB.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=reA.exec(e))&&(i=reB.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:interpolateNumber(r,i)})),n=reB.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?one(u[0].x):zero(t):(t=u.length,function(c){for(var l=0,h;l<t;++l)a[(h=u[l]).i]=h.x(c);return a.join("")})}var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*degrees,skewX:Math.atan(u)*degrees,scaleX:s,scaleY:a}}var svgNode;function parseCss(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?identity:decompose(t.a,t.b,t.c,t.d,t.e,t.f)}function parseSvg(e){return e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),!(e=svgNode.transform.baseVal.consolidate()))?identity:(e=e.matrix,decompose(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,h,f,d,v){if(c!==h||l!==f){var p=d.push("translate(",null,t,null,n);v.push({i:p-4,x:interpolateNumber(c,h)},{i:p-2,x:interpolateNumber(l,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function s(c,l,h,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:interpolateNumber(c,l)})):l&&h.push(i(h)+"rotate("+l+r)}function a(c,l,h,f){c!==l?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:interpolateNumber(c,l)}):l&&h.push(i(h)+"skewX("+l+r)}function u(c,l,h,f,d,v){if(c!==h||l!==f){var p=d.push(i(d)+"scale(",null,",",null,")");v.push({i:p-4,x:interpolateNumber(c,h)},{i:p-2,x:interpolateNumber(l,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(c,l){var h=[],f=[];return c=e(c),l=e(l),o(c.translateX,c.translateY,l.translateX,l.translateY,h,f),s(c.rotate,l.rotate,h,f),a(c.skewX,l.skewX,h,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,h,f),c=l=null,function(d){for(var v=-1,p=f.length,N;++v<p;)h[(N=f[v]).i]=N.x(d);return h.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?now():+n)+(t==null?0:+t),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(e,t,n){var r=new Timer;return r.restart(e,t,n),r}function timerFlush(){now(),++frame;for(var e=taskHead,t;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>pokeDelay&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t=taskHead,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:taskHead=n);taskTail=e,sleep(r)}function sleep(e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var t=e-clockNow;t>24?(e<1/0&&(timeout$1=setTimeout(wake,e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(e,t,n){var r=new Timer;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;create(e,n,{name:t,index:r,group:i,on:emptyOn,tween:emptyTween,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:CREATED})}function init(e,t){var n=get(e,t);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set(e,t){var n=get(e,t);if(n.state>STARTED)throw new Error("too late; already running");return n}function get(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function create(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=timer(o,0,n.time);function o(c){n.state=SCHEDULED,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var l,h,f,d;if(n.state!==SCHEDULED)return u();for(l in r)if(d=r[l],d.name===n.name){if(d.state===STARTED)return timeout(s);d.state===RUNNING?(d.state=ENDED,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[l]):+l<t&&(d.state=ENDED,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[l])}if(timeout(function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=STARTING,n.on.call("start",e,e.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,i=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function a(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=ENDING,1),h=-1,f=i.length;++h<f;)i[h].call(e,l);n.state===ENDING&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ENDED,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function interrupt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>STARTING&&r.state<ENDING,r.state=ENDED,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function tweenRemove(e,t){var n,r;return function(){var i=set(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function tweenFunction(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=set(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function transition_tween(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=get(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?tweenRemove:tweenFunction)(n,e,t))}function tweenValue(e,t,n){var r=e._id;return e.each(function(){var i=set(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return get(i,r).value[t]}}function interpolate(e,t){var n;return(typeof t=="number"?interpolateNumber:t instanceof color?interpolateRgb:(n=color(t))?(t=n,interpolateRgb):interpolateString)(e,t)}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function attrConstantNS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function attrFunction(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function attrFunctionNS(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function transition_attr(e,t){var n=namespace(e),r=n==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(e,typeof t=="function"?(n.local?attrFunctionNS:attrFunction)(n,r,tweenValue(this,"attr."+e,t)):t==null?(n.local?attrRemoveNS:attrRemove)(n):(n.local?attrConstantNS:attrConstant)(n,r,t))}function attrInterpolate(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function attrInterpolateNS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function attrTweenNS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolateNS(e,o)),n}return i._value=t,i}function attrTween(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolate(e,o)),n}return i._value=t,i}function transition_attrTween(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=namespace(e);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,t))}function delayFunction(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?delayFunction:delayConstant)(t,e)):get(this.node(),t).delay}function durationFunction(e,t){return function(){set(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?durationFunction:durationConstant)(t,e)):get(this.node(),t).duration}function easeConstant(e,t){if(typeof t!="function")throw new Error;return function(){set(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get(this.node(),t).ease}function easeVarying(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;set(this,e).ease=n}}function transition_easeVarying(e){if(typeof e!="function")throw new Error;return this.each(easeVarying(this._id,e))}function transition_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],c=n[a],l=u.length,h=s[a]=new Array(l),f,d=0;d<l;++d)(f=u[d]||c[d])&&(h[d]=f);for(;a<r;++a)s[a]=t[a];return new Transition(s,this._parents,this._name,this._id)}function start(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function onFunction(e,t,n){var r,i,o=start(t)?init:set;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function transition_on(e,t){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(e):this.each(onFunction(n,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,n=this._id;typeof e!="function"&&(e=selector(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),l,h,f=0;f<u;++f)(l=a[f])&&(h=e.call(l,l.__data__,f,a))&&("__data__"in l&&(h.__data__=l.__data__),c[f]=h,schedule(c[f],t,n,f,c,get(l,n)));return new Transition(o,this._parents,t,n)}function transition_selectAll(e){var t=this._name,n=this._id;typeof e!="function"&&(e=selectorAll(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,l,h=0;h<c;++h)if(l=u[h]){for(var f=e.call(l,l.__data__,h,u),d,v=get(l,n),p=0,N=f.length;p<N;++p)(d=f[p])&&schedule(d,t,n,p,f,v);o.push(f),s.push(l)}return new Transition(o,s,t,n)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(e,t){var n,r,i;return function(){var o=styleValue(this,e),s=(this.style.removeProperty(e),styleValue(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){var r,i=n+"",o;return function(){var s=styleValue(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function styleFunction(e,t,n){var r,i,o;return function(){var s=styleValue(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),styleValue(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function styleMaybeRemove(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=set(this,e),c=u.on,l=u.value[o]==null?a||(a=styleRemove(t)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(s,i=l),u.on=r}}function transition_style(e,t,n){var r=(e+="")=="transform"?interpolateTransformCss:interpolate;return t==null?this.styleTween(e,styleNull(e,r)).on("end.style."+e,styleRemove(e)):typeof t=="function"?this.styleTween(e,styleFunction(e,r,tweenValue(this,"style."+e,t))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant(e,r,t),n).on("end.style."+e,null)}function styleInterpolate(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function styleTween(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&styleInterpolate(e,s,n)),r}return o._value=t,o}function transition_styleTween(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,styleTween(e,t,n??""))}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e(this);this.textContent=t??""}}function transition_text(e){return this.tween("text",typeof e=="function"?textFunction(tweenValue(this,"text",e)):textConstant(e==null?"":e+""))}function textInterpolate(e){return function(t){this.textContent=e.call(this,t)}}function textTween(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&textInterpolate(i)),t}return r._value=e,r}function transition_textTween(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,textTween(e))}function transition_transition(){for(var e=this._name,t=this._id,n=newId(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var l=get(u,t);schedule(u,e,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Transition(r,this._parents,e,n)}function transition_end(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var c=set(this,r),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),i===0&&o()})}var id=0;function Transition(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function selection_transition(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(n=defaultTiming).time=now(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&schedule(u,e,t,c,s,n||inherit(u,t));return new Transition(r,this._parents,e,t)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function appendRound(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return append;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-t,c=i-n,l=s-t,h=a-n,f=l*l+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>epsilon$1)if(!(Math.abs(h*u-c*l)>epsilon$1)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,v=i-a,p=u*u+c*c,N=d*d+v*v,_=Math.sqrt(p),m=Math.sqrt(f),g=o*Math.tan((pi$1-Math.acos((p+f-N)/(2*_*m)))/2),b=g/m,E=g/_;Math.abs(b-1)>epsilon$1&&this._append`L${t+b*l},${n+b*h}`,this._append`A${o},${o},0,0,${+(h*d>l*v)},${this._x1=t+E*u},${this._y1=n+E*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),c=t+a,l=n+u,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>epsilon$1||Math.abs(this._y1-l)>epsilon$1)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%tau$1+tau$1),f>tauEpsilon?this._append`A${r},${r},0,1,${h},${t-a},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:f>epsilon$1&&this._append`A${r},${r},0,${+(f>=pi$1)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function constant(e){return function(){return e}}const abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}function withPath(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Path(t)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect(e,t,n,r,i,o,s,a){var u=n-e,c=r-t,l=s-i,h=a-o,f=h*u-l*c;if(!(f*f<epsilon))return f=(l*(t-o)-h*(e-i))/f,[e+f*u,t+f*c]}function cornerTangents(e,t,n,r,i,o,s){var a=e-n,u=t-r,c=(s?o:-o)/sqrt(a*a+u*u),l=c*u,h=-c*a,f=e+l,d=t+h,v=n+l,p=r+h,N=(f+v)/2,_=(d+p)/2,m=v-f,g=p-d,b=m*m+g*g,E=i-o,I=f*p-v*d,O=(g<0?-1:1)*sqrt(max(0,E*E*b-I*I)),P=(I*g-m*O)/b,x=(-I*m-g*O)/b,$=(I*g+m*O)/b,w=(-I*m+g*O)/b,k=P-N,y=x-_,S=$-N,F=w-_;return k*k+y*y>S*S+F*F&&(P=$,x=w),{cx:P,cy:x,x01:-l,y01:-h,x11:P*(i/E-1),y11:x*(i/E-1)}}function arc(){var e=arcInnerRadius,t=arcOuterRadius,n=constant(0),r=null,i=arcStartAngle,o=arcEndAngle,s=arcPadAngle,a=null,u=withPath(c);function c(){var l,h,f=+e.apply(this,arguments),d=+t.apply(this,arguments),v=i.apply(this,arguments)-halfPi,p=o.apply(this,arguments)-halfPi,N=abs(p-v),_=p>v;if(a||(a=l=u()),d<f&&(h=d,d=f,f=h),!(d>epsilon))a.moveTo(0,0);else if(N>tau-epsilon)a.moveTo(d*cos(v),d*sin(v)),a.arc(0,0,d,v,p,!_),f>epsilon&&(a.moveTo(f*cos(p),f*sin(p)),a.arc(0,0,f,p,v,_));else{var m=v,g=p,b=v,E=p,I=N,O=N,P=s.apply(this,arguments)/2,x=P>epsilon&&(r?+r.apply(this,arguments):sqrt(f*f+d*d)),$=min(abs(d-f)/2,+n.apply(this,arguments)),w=$,k=$,y,S;if(x>epsilon){var F=asin(x/f*sin(P)),V=asin(x/d*sin(P));(I-=F*2)>epsilon?(F*=_?1:-1,b+=F,E-=F):(I=0,b=E=(v+p)/2),(O-=V*2)>epsilon?(V*=_?1:-1,m+=V,g-=V):(O=0,m=g=(v+p)/2)}var D=d*cos(m),U=d*sin(m),H=f*cos(E),B=f*sin(E);if($>epsilon){var q=d*cos(g),G=d*sin(g),j=f*cos(b),z=f*sin(b),M;if(N<pi)if(M=intersect(D,U,j,z,q,G,H,B)){var Y=D-M[0],X=U-M[1],K=q-M[0],W=G-M[1],Q=1/sin(acos((Y*K+X*W)/(sqrt(Y*Y+X*X)*sqrt(K*K+W*W)))/2),Z=sqrt(M[0]*M[0]+M[1]*M[1]);w=min($,(f-Z)/(Q-1)),k=min($,(d-Z)/(Q+1))}else w=k=0}O>epsilon?k>epsilon?(y=cornerTangents(j,z,D,U,d,k,_),S=cornerTangents(q,G,H,B,d,k,_),a.moveTo(y.cx+y.x01,y.cy+y.y01),k<$?a.arc(y.cx,y.cy,k,atan2(y.y01,y.x01),atan2(S.y01,S.x01),!_):(a.arc(y.cx,y.cy,k,atan2(y.y01,y.x01),atan2(y.y11,y.x11),!_),a.arc(0,0,d,atan2(y.cy+y.y11,y.cx+y.x11),atan2(S.cy+S.y11,S.cx+S.x11),!_),a.arc(S.cx,S.cy,k,atan2(S.y11,S.x11),atan2(S.y01,S.x01),!_))):(a.moveTo(D,U),a.arc(0,0,d,m,g,!_)):a.moveTo(D,U),!(f>epsilon)||!(I>epsilon)?a.lineTo(H,B):w>epsilon?(y=cornerTangents(H,B,q,G,f,-w,_),S=cornerTangents(D,U,j,z,f,-w,_),a.lineTo(y.cx+y.x01,y.cy+y.y01),w<$?a.arc(y.cx,y.cy,w,atan2(y.y01,y.x01),atan2(S.y01,S.x01),!_):(a.arc(y.cx,y.cy,w,atan2(y.y01,y.x01),atan2(y.y11,y.x11),!_),a.arc(0,0,f,atan2(y.cy+y.y11,y.cx+y.x11),atan2(S.cy+S.y11,S.cx+S.x11),_),a.arc(S.cx,S.cy,w,atan2(S.y11,S.x11),atan2(S.y01,S.x01),!_))):a.arc(0,0,f,E,b,_)}if(a.closePath(),l)return a=null,l+""||null}return c.centroid=function(){var l=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-pi/2;return[cos(h)*l,sin(h)*l]},c.innerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:constant(+l),c):e},c.outerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:constant(+l),c):t},c.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:constant(+l),c):n},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:constant(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:constant(+l),c):i},c.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:constant(+l),c):o},c.padAngle=function(l){return arguments.length?(s=typeof l=="function"?l:constant(+l),c):s},c.context=function(l){return arguments.length?(a=l??null,c):a},c}function Transform(e,t,n){this.k=e,this.x=t,this.y=n}Transform.prototype={constructor:Transform,scale:function(e){return e===1?this:new Transform(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Transform(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;const RENDERING_SCALE=1;function T(e,t,n,r,i,o,s){e.append("text").attr("x",t).attr("y",n).text(r).attr("font-size",String(i)+"px").attr("font-family",o).attr("fill",s)}function L(e,t,n,r,i,o,s){e.append("line").attr("x1",t).attr("y1",n).attr("x2",r).attr("y2",i).attr("stroke",o).attr("stroke-width",s)}function R(e,t,n,r,i,o,s){e.append("rect").attr("x",t).attr("y",n).attr("width",r).attr("height",i).attr("fill",o).attr("stroke",s)}function C(e,t,n,r,i,o){e.append("circle").attr("cx",t).attr("cy",n).attr("r",r).attr("fill",i).attr("stroke",o)}function A(e,t,n,r,i,o,s,a){const u={innerRadius:r,outerRadius:i,startAngle:o,endAngle:s},c=arc().innerRadius(l=>l.innerRadius).outerRadius(l=>l.outerRadius).startAngle(l=>l.startAngle).endAngle(l=>l.endAngle);e.append("path").attr("d",c(u)).attr("transform","translate("+String(t)+","+String(n)+")").attr("fill",a)}function encompassingBoundingBox(e){if(!e||e.length===0)return new DOMRect(0,0,500,500);let t=e[0].x,n=e[0].y,r=e[0].x+e[0].width,i=e[0].y+e[0].height;for(let s=1;s<e.length;s++)t=Math.min(t,e[s].x),n=Math.min(n,e[s].y),r=Math.max(r,e[s].x+e[s].width),i=Math.max(i,e[s].y+e[s].height);return new DOMRect(t,n,r-t,i-n)}console.trace(L);console.trace(A);console.trace(R);console.trace(C);function renderEvent(div,event,bBox){if(div.textContent="",event!=null){const svg=select(div).append("svg"),canvas=svg.append("g").attr("transform","scale("+String(RENDERING_SCALE)+")");try{eval(event.viz_output)}catch(e){return console.error(e),T(canvas,100,100,"INTERNAL ERROR: ",15,"Arial","red"),T(canvas,100,120,""+String(e),15,"Arial","red"),T(canvas,100,140,""+event.viz_output,15,"Arial","black"),new DOMRect(0,0,500,500)}const node=canvas.node();if(node==null)return new DOMRect(0,0,500,500);svg.attr("width","500").attr("height","500");const canvasBox=node.getBBox();if(bBox===void 0){const e=`${canvasBox.x-50} ${canvasBox.y-50} ${canvasBox.width+100} ${canvasBox.height+100}`;svg.attr("viewBox",e)}else{const e=`${bBox.x-50} ${bBox.y-50} ${bBox.width+100} ${bBox.height+100}`;svg.attr("viewBox",e)}return canvasBox}return new DOMRect(0,0,500,500)}function getBBox(e){const t=document.createElement("div");t.style.opacity="0",document.body.appendChild(t);const n=[];for(const r of e)n.push(renderEvent(t,r));return encompassingBoundingBox(n)}const Speed={"Very Fast (1000/s)":1e3,"Fast (100/s)":100,"Medium (40/s)":40,"Slow (20/s)":20,"Very Slow (5/s)":5,"Extra Slow (1/s)":1};class VizEventIdx{constructor(t,n){this.current=t,this.total=n}canGoNext(){return this.total>0&&this.current<this.total-1}canGoPrev(){return this.total>0&&this.current>0}eventsRemaining(){return this.total-this.current-1}next(){return new VizEventIdx(this.current+1,this.total)}prev(){return new VizEventIdx(this.current-1,this.total)}goTo(t){return new VizEventIdx(t,this.total)}}class VizEventIdxSig{event_idx=new VizEventIdx(-1,0);subject;setSubject;constructor(){[this.subject,this.setSubject]=createSignal(this.event_idx)}val(){return this.subject()}reset(t){const n=t===void 0?this.event_idx.total:t;this.event_idx=new VizEventIdx(-1,n),this.setSubject(this.event_idx)}canGoNext(){return this.event_idx.canGoNext()}goNext(){this.canGoNext()?(this.event_idx=this.event_idx.next(),this.setSubject(this.event_idx)):console.error(`Tried to go to next event when we were already at the last event: ${this.event_idx.current} / ${this.event_idx.total}`)}canGoPrev(){return this.event_idx.canGoPrev()}goPrev(){this.canGoPrev()?(this.event_idx=this.event_idx.prev(),this.setSubject(this.event_idx)):console.error("Tried to go to prev event when we were already at the first event")}goTo(t){if(t<0||t>1)console.error(`Tried to go to an invalid pct: ${t}`);else{let n=Math.round(t*this.event_idx.total);n=Math.min(Math.max(0,n),this.event_idx.total),this.event_idx=this.event_idx.goTo(n),this.setSubject(this.event_idx)}}eventsRemaining(){return this.event_idx.eventsRemaining()}}class VizEventNavigator{constructor(t,n){this.inputs_clicked=t,this.exec_result_arg=n,[this.currentEvent,this.setCurrentEvent]=createSignal(null),[this.playing,this.setPlaying]=createSignal(!1),this.inputs_clicked.prev$.subscribe(this.event_idx_subject.goPrev.bind(this.event_idx_subject)),this.inputs_clicked.next$.subscribe(this.event_idx_subject.goNext.bind(this.event_idx_subject)),this.inputs_clicked.playPause$.subscribe(this.playPause.bind(this)),this.inputs_clicked.sliderIndex$.subscribe(this.handleSliderPct.bind(this)),typeof n=="object"?this.nextEvents(n):createEffect(()=>{this.nextEvents(n())}),createEffect(()=>{this.nextEventIdx(this.event_idx_subject.val())})}currentEvent;setCurrentEvent;event_idx_subject=new VizEventIdxSig;exec_result={py_error:null,events:[]};event_timer$=null;playing;setPlaying;handleSliderPct(t){this.event_idx_subject.goTo(t)}nextEventIdx(t){console.log("next event idx",t),t.current>0?this.setCurrentEvent(this.exec_result.events[t.current]):this.setCurrentEvent(null)}playingAcc(){return this.playing}playPause(t){if(console.log("fudge Playing status:",this.playing()),console.log("fudge Event index subject:",this.event_idx_subject),console.log("fudge Events remaining:",this.event_idx_subject.eventsRemaining()),this.playing()&&(t===null||t===!1))this.setPlaying(!1);else if(!this.playing()&&(t===null||t===!0)){this.setPlaying(!0);const r=from(observable$1(this.playing)).pipe(filter$1(a=>!a)),i=this.inputs_clicked.speed$.getValue(),s=1/Speed[i.valueOf()]*1e3;console.log("delay",s),this.event_idx_subject.eventsRemaining()===0&&(console.log("resetting event idx"),this.event_idx_subject.reset()),this.event_timer$=timer$1(0,s).pipe(takeUntil(r),take(this.event_idx_subject.eventsRemaining())),this.event_timer$.subscribe({next:this.event_idx_subject.goNext.bind(this.event_idx_subject),complete:()=>{this.setPlaying(!1)}})}}nextEvents(t){this.exec_result=t,this.event_idx_subject.reset(t.events.length)}getVizEventIdxVal(){return this.event_idx_subject.val()}getEventVal(){return this.currentEvent}getPlaying$(){return this.playing}}export{style as A,BehaviorSubject as B,VizEventIdx as C,EventNavSubjects as E,For as F,Observable as O,Speed as S,VizEventNavigator as V,__spreadArray as _,__read as a,isFunction as b,createOperatorSubscriber as c,isArrayLike as d,executeSchedule as e,identity$1 as f,createComponent as g,createResource as h,innerFrom as i,insert as j,createRenderEffect as k,className as l,getBBox as m,createEffect as n,operate as o,renderEvent as p,debounceTime as q,render as r,setAttribute as s,template as t,use as u,delegateEvents as v,createSignal as w,classList$1 as x,from$1 as y,addEventListener as z};
